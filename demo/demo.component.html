<div class="ui container">
  <form class="ui form" formHelper [config]="config">
    <div class="field">
      <label>名字</label>
      <input type="text" name="name" #nameCtrl="ngModel" [(ngModel)]="name" autocomplete="off" required nameUnique>
      <div class="fh-tooltip">
        <div [class.error]="nameCtrl.errors?.required">不能为空</div>
        <div class="pending" [class.error]="nameCtrl.errors?.nameUnique">重复</div>
      </div>
    </div>
    <div class="field">
      <label>类型</label>
      <div class="ui checkbox radio">
        <input type="radio" (click)="type = 0" [checked]="type == 0">
        <label>类型1</label>
      </div>
      <div class="ui checkbox radio">
        <input type="radio" (click)="type = 1" [checked]="type == 1">
        <label>类型2</label>
      </div>
    </div>

    <div *ngIf="type == 0">
      <div class="field">
        <label>说明</label>
        <textarea name="desc" required [(ngModel)]="desc" autocomplete="off" rows="3" disabled></textarea>
      </div>
      <div class="field">
        <label>选择喜好</label>
        <select class="ui dropdown" name="love" #loveCtrl="ngModel" [(ngModel)]="love" required>
          <option value="">请选择</option>
          <option value="1">读书</option>
          <option value="2">看报</option>
        </select>
        <div class="fh-tooltip">
          <div [class.error]="loveCtrl.errors?.required">至少选择一项</div>
        </div>
      </div>
      <div class="field" style="display:inline-block">
        <label>组(动态)</label>
        <div ngModelGroup="group" #groupCtrl="ngModelGroup" checkboxRequired>
          <div class="ui checkbox" *ngFor="let ck of cks;trackBy:trackByCk;index as i">
            <input type="checkbox" [(ngModel)]="ck.checked" [name]="'ck-' + ck.uuid">
            <label>
              {{ck.label}}
              <i class="icon red remove" (click)="removeCk(i,'group')"></i>
            </label>
          </div>
          <button type="button" class="ui button tiny teal" (click)="addCK('group')">添加</button>
        </div>
        <div class="fh-tooltip" data-position="right center">
          <div [class.error]="groupCtrl.errors?.checkboxRequired">至少选择一项</div>
        </div>
      </div>
      <div class="field">
        <label>远程</label>
        <input type="text" name="remote" #remoteCtrl="ngModel" [(ngModel)]="remote" autocomplete="off" nameUnique>
        <div class="fh-tooltip">
          <div class="pending" [class.error]="remoteCtrl.errors?.nameUnique">重复</div>
        </div>
      </div>
      <div class="field">
        <label>滚动对象(scrollTarget)</label>
        <div class="ui styled fluid accordion">
          <div class="title" [class.active]="accordionActive" (click)="accordionActive = !accordionActive">
            <i class="dropdown icon"></i>
            Accordion
          </div>
          <div class="content active" [class.active]="accordionActive" ngModelGroup="gp" data-scroll-proxy="~"
               data-context-proxy="false">
            <div class="field">
              <label>生日</label>
              <input type="text" name="birth" #birthCtrl="ngModel" [(ngModel)]="birth" required>
              <div class="fh-tooltip">
                <div [class.error]="birthCtrl.errors?.required">不能为空</div>
              </div>
            </div>
            <div class="field">
              <label>远程2</label>
              <input type="text" name="remote2" #remote2Ctrl="ngModel" [(ngModel)]="remote2" autocomplete="off"
                     nameUnique>
              <div class="fh-tooltip">
                <div class="pending" [class.error]="remote2Ctrl.errors?.nameUnique">重复</div>
              </div>
            </div>
          </div>

          <div class="title" [class.active]="accordionActive2" (click)="accordionActive2 = !accordionActive2">
            <i class="dropdown icon"></i>
            Accordion2
          </div>
          <div class="content active" [class.active]="accordionActive2" ngModelGroup="gp2" data-scroll-proxy="~"
               data-context-proxy="false">
            <div class="field">
              <label>生日2</label>
              <input type="text" name="birth2" #birth2Ctrl="ngModel" [(ngModel)]="birth2" required>
              <div class="fh-tooltip">
                <div [class.error]="birth2Ctrl.errors?.required">不能为空</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="field buttons">
        <button type="submit" class="ui button small instagram right labeled icon">
          <i class="icon save"></i>
          保存1
        </button>
        <a class="ui button small" routerLink="/other">other</a>
      </div>
    </div>

    <div *ngIf="type == 1">
      <div class="field">
        <label>性别</label>
        <input type="text" name="sex" #sexCtrl="ngModel" required [(ngModel)]="sex" autocomplete="off" pattern="^\d*$">
        <div class="fh-tooltip">
          <div [class.error]="sexCtrl.errors?.required">不能为空</div>
          <div [class.error]="sexCtrl.errors?.pattern">只能为数字</div>
        </div>
      </div>
      <div class="field buttons">
        <button type="submit" class="ui button small instagram">保存2</button>
        <a class="ui button small" routerLink="/other">other</a>
      </div>
    </div>
  </form>

  <div class="ui divider"></div>
  <button type="button" class="ui button tiny" (click)="addHeight()">增加页面高度(+1000px)</button>
  <button type="button" class="ui tiny button modal-button">Modal Scroll</button>
  <button type="button" class="ui tiny button modal-inner-button">Modal Inner Scroll</button>
  <div class="blank" [style.height.px]="pageHeight"></div>
</div>

<div class="ui small modal modal-scroll" #modal>
  <div class="header">
    弹层表单
  </div>
  <div class="content">
    <form class="ui form" formHelper [config]="config2">
      <div class="field">
        <label>地址</label>
        <input type="text" name="addr" #addrCtrl="ngModel" [(ngModel)]="addr" autocomplete="off" required>
        <div class="fh-tooltip">
          <div [class.error]="addrCtrl.errors?.required">不能为空</div>
        </div>
      </div>
      <div class="field">
        <label>评论</label>
        <textarea name="issue" required [(ngModel)]="issue" autocomplete="off" rows="60"></textarea>
      </div>
    </form>
  </div>
  <div class="actions">
    <div class="ui deny button">
      关闭
    </div>
    <button class="ui instagram approve right labeled icon button">
      提交
      <i class="checkmark icon"></i>
    </button>
  </div>
</div>

<div class="ui small modal modal-inner-scroll" #modalInner>
  <div class="header">
    弹层表单
  </div>
  <div class="content">
    <form class="ui form" formHelper [config]="config3">
      <div class="field">
        <label>地址</label>
        <input type="text" name="addr2" #addr2Ctrl="ngModel" [(ngModel)]="addr2" autocomplete="off" required>
        <div class="fh-tooltip">
          <div [class.error]="addr2Ctrl.errors?.required">不能为空</div>
        </div>
      </div>
      <div class="field">
        <label>评论</label>
        <textarea name="issue2" #issue2Ctrl="ngModel" required [(ngModel)]="issue2" autocomplete="off"
                  rows="20"></textarea>
        <div class="fh-tooltip">
          <div [class.error]="issue2Ctrl.errors?.required">不能为空</div>
        </div>
      </div>
    </form>
  </div>
  <div class="actions">
    <div class="ui deny button">
      关闭
    </div>
    <div class="ui instagram approve right labeled icon button">
      提交
      <i class="checkmark icon"></i>
    </div>
  </div>
</div>